<button (click)="newBuggy()" mat-button>
  <mat-icon>add</mat-icon> Add Buggy
</button>

<mat-form-field>
  <mat-label>Filter By Org</mat-label>
  <mat-select [(value)]="filteredOrg">
    <mat-option value="">(Show All)</mat-option>
    @for (o of orgList$ | async; track o) {
      <mat-option value="{{o}}">{{o}}</mat-option>
    }
  </mat-select>
</mat-form-field>

@if ((buggies$ | async)?.length === 0) {
  <p>No Buggies Configured</p>
}
@for (b of buggies$ | async; track b) {
  @if (filteredOrg == '' || filteredOrg == b.org) {
    <buggy-detail [buggy]="b"
      (edit)="editBuggy($event)"
      (toggleActive)="toggleActive($event)"
    (delete)="deleteBuggy($event)"></buggy-detail>
  }
}
